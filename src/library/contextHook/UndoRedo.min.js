/*
	undo-redo 1.2.7
	(c) Epistemex.com 2015-2018
    MIT License
    Why did this guy drop his repo, :(
*/
function UndoRedo(b){var a=this;b=b||{};a.lm=+(b.limit||-1);a.st=[];a.sp=a.cn=0;a.fs=null;a.onundo=b.onUndo;a.onredo=b.onRedo}UndoRedo.prototype={add:function(a){var d=this,f=d.st,e=d.sp,b=f.length,c=d.lm;if(e<b){f.splice(e,b-e)}if(c>-1&&e===c){d.fs=f.shift()}d.cn++;f.push(a);return d.sp=f.length},undo:function(){var a=this,b=null;if(a.sp){a.cn--;b=a.st[--a.sp-1]||a.fs}if(a.onundo){a.onundo(b)}return b},redo:function(){var a=this,b=null,c=a.st;if(a.sp<c.length){a.cn++;b=c[a.sp++]}if(a.onredo){a.onredo(b)}return b},canUndo:function(){return this.sp>0},canRedo:function(){var a=this.st.length;return a&&this.sp<a},pointer:function(){return this.sp},count:function(){return this.cn},limit:function(b){var c=this,a=c.st.length;if(!b){return c.lm}c.lm=b;if(a>b){c.st.splice(b,a)}},stack:function(b){var a=this;if(!b){return{st:a.st.concat(),sp:a.sp}}a.st=b.st;a.sp=+b.sp}};if(typeof exports!=="undefined"){exports.UndoRedo=UndoRedo};